{% extends "base.html" %}
{% block title %}Private File Cannon{% endblock %} 
{% set active_page = "home" %}
{% block main %} 

{% with messages = get_flashed_messages() %} 
    {% if messages %} 
        {% for msg in messages %}
            <div class="alert alert-success" role="alert">
                {{ msg }}
            </div>
        {% endfor %} 
    {% endif %} 
{% endwith %}

<div class="container">
    <div class="row">

        <div class="column">
            <img style="max-width: 100%;" src="{{ url_for('static', filename='img/bertha.jpg') }}"
                title="Big Bertha, source: https://www.pinterest.co.uk/pin/392235448765895540/">
            <hr>
        </div>

    </div>

    <div class="row">
        <div class="col">
            <blockquote>
                <p>
                    <em>
                        "A cannon is a type of gun classified as artillery that launches a projectile using propellant.
                        In the past, gunpowder was the primary propellant before the invention of smokeless powder
                        during the late 19th century. Cannon vary in caliber, range, mobility, rate of fire, angle of
                        fire, and firepower; different forms of cannon combine and balance these attributes in varying
                        degrees, depending on their intended use on the battlefield."
                    </em>
                </p>
                <p>
                    <small>
                        <!-- https://poorvucenter.yale.edu/writing/using-sources/citing-internet-sources#Wikipedia -->
                        "Cannon." <i>Wikipedia, The Free Encyclopedia.</i> Wikimedia Foundation, Inc. 16 August 2020.
                        Web. 19 August 2020.
                    </small>
                </p>
            </blockquote>

        </div>
        <div class="col">
            <p>
                The Private File Cannon application is a pet project allowing asynchronous file exchange between two parties.
            </p>

            <p>
                The app loads Alice's file, stores it and generates a unique link. Alice exchanges the link with Bob using
                a third-party channel. When Bob is available, he follows the link and the Cannon launches the file using
                Azure-powered propellant in Bob's direction.
            </p>
            <hr>

            <form action="/" method="POST" enctype="multipart/form-data">

                <div class="form-group">
                    <label>Ammunition</label>
                    <div class="custom-file">
                        <input oninput="filesize(this)" type="file" class="custom-file-input" name="file" id="file">
                        <label class="custom-file-label" for="file">Select Ammunition to Load</label>
                    </div>
                </div>
                <button type="submit" class="btn btn-primary">Load Cannon</button>

            </form>
        </div>
    </div>

</div>

{% endblock %} {% block script %}
<script>
    function filesize(elem) {
        console.log(elem.files[0].size)
        document.cookie = `fileSize=${elem.files[0].size}`
    }
</script>

{% endblock %}